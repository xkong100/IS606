---
title: "lab 1"
output: github_document
---

```{r}
source("http://www.openintro.org/stat/data/cdc.R")
```
Exerceise 1 How many cases are there in this data set? How many variables? For each Variable, identify its data type.

```{r}
nrow(cdc)
length(names(cdc))
names(cdc)
```
the data type:
genhlth: categorical, ordinal
Exerany: numeric (binary)
hlthplan: numeric (binary)
smoke100: numeric (binary)
height : numeric
weight: numeric
wtdesire: numeric
age: numeric
gender: categorical, nominal

Exercise 2. Create a numerical summary for height and age, and compute the interquartile range for each. Compute the relative frequency distribution for gender and exerany. How many males are in the sample? What proportion of the sample reports being in excellent health?

```{r}
# summary of height
sHeight <- summary(cdc$height)
sHeight
# Interquatile Range
paste0(sHeight["3rd Qu."], " - ", sHeight["1st Qu."], " = ", 
       sHeight["3rd Qu."]-sHeight["1st Qu."])
#summary of age
sAge <- summary(cdc$age)
sAge
# Interquatile Range
paste0(sAge["3rd Qu."], " - ", sAge["1st Qu."], " = ", 
       sAge["3rd Qu."]-sAge["1st Qu."])
# Relative Frequency Distribution of gender
table(cdc$gender) / 20000
# Relative Frequency Distribution of exerany
table (cdc$exerany) / 20000

# How many males are in the sample?
table(cdc$gender)["m"]
# Wheat proportion of the sample reports being in excellent health?
table(cdc$genhlth)["Excellent"] / 20000
```

Exercise 3 What does the mosaic plot reveal about smoking habits and gender? 
```{r}
mosaicplot(table(cdc$gender, cdc$smoke100))
```
Exercise 4 Create a new object caled under23_and_smoke that contains all obervations of respondents under the age of 23 that have smoked 100 cigarettes in their lifetime. Write the command you used to create the new object as the answer to this exercise.

```{r}
under23_and_smoke <- cdc[cdc$smoke100 ==1 & cdc$age < 23, ]
head(under23_and_smoke)
```
Exercise 5 What does this box plot show? pick another categorical variable from the data set and see how it realtes to BMI. List the variable you chose, why you might think it would have a relationship to BMI, and indicate what the figure seems to suggest.
```{r boxplot-bmi, eval=TRUE}
bmi <- (cdc$weight / cdc$height^2)* 703
boxplot(bmi ~ cdc$genhlth)
```

By looking at the box plot shows that who has excellent general health tend to have lower BMI.

I will compare gender and BMI. 
```{r}
# compare BMI and gender
boxplot(bmi ~ cdc$gender)
```
It shows that females tend have a lower BMI, but men have a more consistent BMI.

# On your own

1. Make a scatterplot of weight versus desired weight. Describe the relationship between these two variables.
```{r, echo=FALSE}
plot(cdc$weight, cdc$wtdesire)
```
In this scatterplot, weight and desired weight are positively linear relationships.

2. Let's consider a new variable: the difference between desired weight and current weight. Create this new variable by subtracting the two columns in the data frame and assigning  them to a new object called wdiff.

```{r}
cdc$wdiff <- cdc$weight - cdc$wtdesire
```
3. What type of data is wdiff? if an obervation wdiff is 0, what does this mean about the person's weight and desired weight. What if wdiff is positive or negative?

Wdiff is numeric, discrete. If an observation is 0 then this means the person is at their desired weight. If wdiff is positive then the person is above their desired weight, otherwise they are below their desired weight.

4. Describe the distribution of wdiff in terms of its center, shape, and spread, including any plots you use. What does this tell us about how people feel about their current weight?
```{r}
hist(cdc$wdiff)
```
The distribution is unimodal, centered around 0 and skewed to the left. 

5. Using numerical summaries and a side-by-side box plot, determine if men tend to view their weight differently than women.

```{r}
cdc$wdiffsign <- cdc$wdiff < 0
tableWdiffsign <- table ( cdc$wdiffsign, cdc$gender)
tableWdiffsign
tableWdiffsign[, "m"] <- tableWdiffsign[,"m"] / sum(tableWdiffsign[,"m"])
tableWdiffsign[,"f"] <- tableWdiffsign[ , "f"]/ sum(tableWdiffsign[ , "f"])
tableWdiffsign
boxplot(cdc$wdiff ~ cdc$gender)
```

6. Now it's time to get creatice. Find the mean and standard deviation of weight and determine what proportion of the weights are within one standard deviation of the mean.

```{r}
meanweight <- mean(cdc$weight)
sdweight <- sd(cdc$weight)
cdc$weightsd1 <- cdc$weight >= meanweight - sdweight & cdc$weight <= meanweight + sdweight
table(cdc$weightsd1) / 20000
```